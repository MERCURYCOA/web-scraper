,0
"Greetings enthusiasts!I hope you are all well. I’d like to follow up on the previous post, highlighting RTI’s Admin Console. The console is great. You can view the entire DDS architecture, mesages types, topics, and data. However, sometimes you just need to see data scrolling on a terminal screen for good measure. This can be done with DDS Spy. Assuming you’ve found the RTI Connext Launcher, which you should have explored the Admin console from, you’ll want to select the Utilities tab near the top of the launcher.<div class=""lightbox-wrapper""><a class=""lightbox"" href=""https://discourse-cdn-sjc1.com/business6/uploads/openrov/original/2X/1/101eac26cab893870b7c7524f0c3c000c79b14ad.png"" data-download-href=""https://discourse-cdn-sjc1.com/business6/uploads/openrov/101eac26cab893870b7c7524f0c3c000c79b14ad"" title=""connxt_launcher1.png"" rel=""nofollow noopener""><img  alt=""connxt_launcher1"" width=""690"" height=""467""><div class=""meta"">
<span class=""filename"">connxt_launcher1.png</span><span class=""informations"">950x643 50.5 KB</span><span class=""expand""></span>
</div></a></div>Select DDS Spy.<img  alt=""ddsspy1"" width=""602"" height=""490"">Here, you can pick a domain, here the Trident works in 0, print samples, display id’s, show handles, truncate names, subscribe to topics and filter via type or topic name. You can open as many of these as you like.Ok. So there’s an issue here. OpenROV has data partitions set up to match the reader/writers to individual ROVs. A partition allows readers and writers on the same domain to separate data streams. This is a good thing, however, DDS Spy, when using the GUI, does not have a clear partition selection process. I haven’t figured it out yet. However, the command line works just fine.Navigate to your rti_connext directory. In the bin folder, you will find all the executable scripts (remember I am in Linux, so your windows applications may differ). Also, take a look at, <a href=""http://community.rti.com/rti-doc/510/ndds/doc/html/api_cpp/group__DDSNddsspyModule.html"" rel=""nofollow noopener"">http://community.rti.com/rti-doc/510/ndds/doc/html/api_cpp/group__DDSNddsspyModule.html</a>, the RTI Connext C++ API. This gives you all the commandline parameter for DDS Spy. You can also type ./rtidsspy -help.Ok, you need to match the partition, domainId, and select the topic or data type you would like to display.Try ./rtiddsspy -partition (enter you rov host name. this is found on the physical view in the admin console. it will look something like 4ecb6b… They are individual system names. You should see your host PC IP as well)Moving on:./rtiddsspy -partition 4ecb6b -topicRegex “<em>depth</em>” -printSampleYou should see something like:<br>
<div class=""lightbox-wrapper""><a class=""lightbox"" href=""https://discourse-cdn-sjc1.com/business6/uploads/openrov/original/2X/b/b00e71998ea39a36ccf8ed2684a4024e4aa46fc8.png"" data-download-href=""https://discourse-cdn-sjc1.com/business6/uploads/openrov/b00e71998ea39a36ccf8ed2684a4024e4aa46fc8"" title=""orov_ddsspy.png"" rel=""nofollow noopener""><img  alt=""orov_ddsspy"" width=""661"" height=""499""><div class=""meta"">
<span class=""filename"">orov_ddsspy.png</span><span class=""informations"">804x608 52.6 KB</span><span class=""expand""></span>
</div></a></div>There’s good info here. We see the message sequence number, the topic name, rov_depth, the topic type, orov::Depth and pressure data, objectId and depth data.Good stuff. Play around with it, try different parameters and look at the topics. Once I figure out the trick to get the DDS Spy UI to match partitions, I’ll post the solution.Enjoy.In the next post, we’ll take a look at, drum roll…, how to read this data from a template c++ application, which I will post on github, soon. After which, we will discuss publishing data to the ROV.Jim",Jim_N
"Greetings enthusiasts!I figured out how to get the DDS Spy UI to monitor partitions. It was silly easy.Click the Advanced Settings tab in the UI and you will see a section labeled Partitions, comma separated.Merely enter the partition label in that text box and hit the run button on the UI…yes, that easy…I feel stupid.<img  alt=""ddsspy_advanced"" width=""640"" height=""480"">Moving on!<br>
Enjoy,Jim",Jim_N
"Just attended the RTI Connext conference and learned a bit more about their product suite and licensing.  Good news is that extended availability is there for any researcher (any non-commercial developer) and can be requested from RTI (annual renewal license).  I can post more on this if folks are interested.Following up on Jim_N’s posts I did the following:<br>
Configure Trident to connect to local network (wi-fi)Brought up RTI admin console on my windows laptopAdmin console discovered Trident being on same wi-fi networkSelected system and topic within domain (trident-core)Selected DDS Entity – rov_depthRight clicked, visualize &gt; sample logIn Data Type box, selected “show data type details” button (to right of type name)Will show type tree. Select Equivalent IDL tab.Can now cut and paste idl to idl file. (ex. rov_depth.idl)Utilities can be used to convert type (xml &lt;&gt; idl)Also code generator will generate C++ code for publisher and subscriber from either the xml or idl files.I got a set of C++ files along with  USER_QOS_PROFILES.xmlalso on windows a file to set up a visual studio project.I compiled things (build) and was able to run rov_depth_publisher and rov_depth_subscriber.The problem I ran into is that I couldn’t get the subscriber to listen to my Trident output.  There seems to be some way to associate the Trident and it’s domain and partition with my subscriberI tried experimenting with the  USER_QOS_PROFILES.xml file to add that info:Did not work and I will try to find out how to actually do this.Jim T",Jim_Trezzo
"<a class=""mention"" href=""/u/jim_trezzo"">@Jim_Trezzo</a> In Admin Console, can you see the Trident dynamic data in the Topic Data panel? If you can, what Windows are you using? Home or Professional? Router model?If you can’t see the Trident dynamic Topic data, can you see the dynamic data in the Shapes Demo?I couldn’t see the Trident dynamic Topic data with Win10 Home and a Netgear N300 router. I ended up dual booting Ubuntu v18.04 with the RTI DDS Trial for Ubuntu v16.04. Seems to be working as advertised.I’d be interested in further info on the non-commercial developer annual license.Bill",webhoppery
"Thanks for exploring this <a class=""mention"" href=""/u/webhoppery"">@webhoppery</a> and <a class=""mention"" href=""/u/jim_trezzo"">@Jim_Trezzo</a>! As far as Windows use…I haven’t touched a windows machine by choice, other than as a dummy email terminal at work, for some time. Can’t help you there. However, make sure you are partition matched, if not, you can see the topics but won’t be able to see the data.",Jim_N
"<a class=""mention"" href=""/u/jim_trezzo"">@Jim_Trezzo</a>, How’s the auto-generated code? I am pretty allergic to auto generated stuff, but curious as to what you have dove into.I think it would behoove the entire community to have a generic interface code base that wraps the more tenuous RTI DDS calls nicely such that a developer need not be a DDS expert in order to use. There are two generic DDS application projects that I know of, one from spiderkeys,<a href=""https://github.com/spiderkeys/SensorPublisher"" rel=""nofollow noopener"">https://github.com/spiderkeys/SensorPublisher</a>, and one I wrote for OCI OpenDDS, <a href=""https://github.com/binary42/OpenDDS_SkeletonNodeCpp"" rel=""nofollow noopener"">https://github.com/binary42/OpenDDS_SkeletonNodeCpp</a>. Both approaches need modification and testing.There is also ROS 2.0…but I haven’t made the dive into that yet…",Jim_N
"<a class=""mention"" href=""/u/jim_n"">@Jim_N</a> wrt generic interface code - the RTI Connector might provide a base.<br>
RTI Launcher -&gt; Labs -&gt; RTI ConnectorThe interface code would be helpful for subscribing to existing Trident data, but what about payload data? Have you seen anything from OpenROV about payload interfaces and how the payload data passes through DDS? Or bypasses DDS - ie Python WebREPL? It seems like they can’t change the Trident DDS code for every new user payload.What about presenting payload data on the Pilot display?Curious as to what Linux you’re using? I’m having trouble getting the right compiler version to match what RTI built with.",webhoppery
"<a class=""mention"" href=""/u/webhoppery"">@webhoppery</a>Indeed, thank you.In regards to payloads, from past discussions, OpenROV is working towards this. I believe it will be DDS based. not sure about the pipeline. I am expecting information on this with in the next few months.I’m using Ubuntu 16.04. What compile issues are you having , exactly?Jim",Jim_N
"In reply to earlier messages,  I am looking at the code Jim N. shared as well as what RTI generates.  None of it is as approachable as I would like to see, but getting something to work is the first goal.  I have requested a “research” license from RTI for non-commercial use.  Will share how that goes.Also saw a connector to MATLAB/Simulink at the RTI conference and saw some interesting robotics and sensor fusion demos at a MathWorks conference yesterday.  This could be complementary or a bottom up alternative to ROS2 approach.  Need to get some of this integrated with Trident first!  Back to work…Jim",Jim_Trezzo
"Just viewed the tutorial videos on the MathWorks DDS support package and wanted to share the link:  <a href=""https://www.mathworks.com/hardware-support/rti-dds.html"">https://www.mathworks.com/hardware-support/rti-dds.html</a>If I can get this working with the Trident platform, it seems like a potent tool for software experimentation and development.Jim T.",Jim_Trezzo
"Jim, this is great. I haven’t had a chance to modify the c++ code template for the community as of yet, but I plan on having functioning code in the next month. Very happy your exploring this fuether.",Jim_N
